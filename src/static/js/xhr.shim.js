(function(){function r(){try{this._object=new h}catch(b){this._object=new window.ActiveXObject("Microsoft.XMLHTTP")}this._listeners=[]}function a(){return new r}function m(b){a.onreadystatechange&&a.onreadystatechange.apply(b);b.dispatchEvent({type:"readystatechange",bubbles:!1,cancelable:!1,timeStamp:(new Date).getTime()})}function t(a){try{a.responseText=a._object.responseText}catch(k){}try{var b;var c=a._object,e=c.responseXML,f=c.responseText;l&&f&&e&&!e.documentElement&&c.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)&&
(e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.validateOnParse=!1,e.loadXML(f));b=e&&(l&&0!=e.parseError||!e.documentElement||e.documentElement&&"parsererror"==e.documentElement.tagName)?null:e;a.responseXML=b}catch(k){}try{a.status=a._object.status}catch(k){}try{a.statusText=a._object.statusText}catch(k){}}function n(a){a._object.onreadystatechange=new window.Function}var h=window.XMLHttpRequest,p=!!window.controllers,l=!!window.document.namespaces;a.prototype=r.prototype;p&&h.wrapped&&
(a.wrapped=h.wrapped);a.isNormalizedObject=!0;a.UNSENT=0;a.OPENED=1;a.HEADERS_RECEIVED=2;a.LOADING=3;a.DONE=4;a.prototype.UNSENT=a.UNSENT;a.prototype.OPENED=a.OPENED;a.prototype.HEADERS_RECEIVED=a.HEADERS_RECEIVED;a.prototype.LOADING=a.LOADING;a.prototype.DONE=a.DONE;a.prototype.readyState=a.UNSENT;a.prototype.responseText="";a.prototype.responseXML=null;a.prototype.status=0;a.prototype.statusText="";a.prototype.priority="NORMAL";a.prototype.onreadystatechange=null;a.onreadystatechange=null;a.onopen=
null;a.onsend=null;a.onabort=null;a.prototype.open=function(b,d,c,e,f){var k=b.toLowerCase();if("connect"==k||"trace"==k||"track"==k)throw Error(18);delete this._headers;3>arguments.length&&(c=!0);this._async=c;var g=this,h=this.readyState,q=null;l&&c&&(q=function(){h!=a.DONE&&(n(g),g.abort())},window.attachEvent("onunload",q));a.onopen&&a.onopen.apply(this,arguments);4<arguments.length?this._object.open(b,d,c,e,f):3<arguments.length?this._object.open(b,d,c,e):this._object.open(b,d,c);this.readyState=
a.OPENED;m(this);this._object.onreadystatechange=function(){if(!p||c)g.readyState=g._object.readyState,t(g),g._aborted?g.readyState=a.UNSENT:g.readyState==a.DONE&&(delete g._data,n(g),l&&c&&window.detachEvent("onunload",q),h!=g.readyState&&m(g),h=g.readyState)}};a.prototype.send=function(b){a.onsend&&a.onsend.apply(this,arguments);arguments.length||(b=null);b&&b.nodeType&&(b=window.XMLSerializer?(new window.XMLSerializer).serializeToString(b):b.xml,this._headers["Content-Type"]||this._object.setRequestHeader("Content-Type",
"application/xml"));this._data=b;a:if(this._object.send(this._data),p&&!this._async)for(this.readyState=a.OPENED,t(this);this.readyState<a.DONE;)if(this.readyState++,m(this),this._aborted)break a};a.prototype.abort=function(){a.onabort&&a.onabort.apply(this,arguments);this.readyState>a.UNSENT&&(this._aborted=!0);this._object.abort();n(this);this.readyState=a.UNSENT;delete this._data};a.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()};a.prototype.getResponseHeader=
function(a){return this._object.getResponseHeader(a)};a.prototype.setRequestHeader=function(a,d){this._headers||(this._headers={});this._headers[a]=d;return this._object.setRequestHeader(a,d)};a.prototype.addEventListener=function(a,d,c){for(var b=0,f;f=this._listeners[b];b++)if(f[0]==a&&f[1]==d&&f[2]==c)return;this._listeners.push([a,d,c])};a.prototype.removeEventListener=function(a,d,c){for(var b=0,f;(f=this._listeners[b])&&(f[0]!=a||f[1]!=d||f[2]!=c);b++);f&&this._listeners.splice(b,1)};a.prototype.dispatchEvent=
function(a){a={type:a.type,target:this,currentTarget:this,eventPhase:2,bubbles:a.bubbles,cancelable:a.cancelable,timeStamp:a.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};"readystatechange"==a.type&&this.onreadystatechange&&(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[a]);for(var b=0,c;c=this._listeners[b];b++)c[0]!=a.type||c[2]||(c[1].handleEvent||c[1]).apply(this,[a])};a.prototype.toString=function(){return"[object XMLHttpRequest]"};
a.toString=function(){return"[XMLHttpRequest]"};window.Function.prototype.apply||(window.Function.prototype.apply=function(a,d){d||(d=[]);a.__func=this;a.__func(d[0],d[1],d[2],d[3],d[4]);delete a.__func});window.XMLHttpRequest=a})();